<app-header></app-header>

<main class="mc-board-body">
  <app-main-label
    icon="view_kanban"
    label="KanbanBoard"
    [actions]="[
      { id: 'search', icon: 'search', tooltip: 'Search' },
      { id: 'filter', icon: 'filter_list', tooltip: 'Filter' },
      { id: 'add-book', icon: 'add', tooltip: 'Add Book' },
    ]"
    (actionClick)="handleAction($event)"
  ></app-main-label>

  <div class="board">
    <div
      *ngFor="let column of columns; trackBy: trackByColumnId"
      class="column"
      cdkDropList
      [id]="column.id"
      [cdkDropListData]="column.tasks"
      [cdkDropListConnectedTo]="connectedDropLists"
      (cdkDropListDropped)="drop($event)"
    >
      <h2 [style.background-color]="column.color">{{ column.title }}</h2>

      <div *ngFor="let task of column.tasks; trackBy: trackByTaskId" class="task-card" cdkDrag>
        <h3>{{ task.title }}</h3>
        <p>Priority: {{ task.priority }}</p>
        <p>Deadline: {{ task.deadlineDate | date: 'short' }}</p>
      </div>
    </div>
  </div>
</main>
